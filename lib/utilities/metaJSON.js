"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    default: function() {
        return _default;
    },
    dependenciesFromDocumentNode: function() {
        return dependenciesFromDocumentNode;
    },
    dependencyNamesFromDocumentNode: function() {
        return dependencyNamesFromDocumentNode;
    },
    documentNodeFromMetaJSONFile: function() {
        return documentNodeFromMetaJSONFile;
    },
    isMetaJSONFileValid: function() {
        return isMetaJSONFileValid;
    },
    repositoryFromDocumentNode: function() {
        return repositoryFromDocumentNode;
    },
    updateMetaJSONFileVersion: function() {
        return updateMetaJSONFileVersion;
    },
    versionFromDocumentNode: function() {
        return versionFromDocumentNode;
    }
});
var _occamgrammars = require("occam-grammars");
var _version = /*#__PURE__*/ _interop_require_default(require("../version"));
var _dependency = /*#__PURE__*/ _interop_require_default(require("../dependency"));
var _dependencies = /*#__PURE__*/ _interop_require_default(require("../dependencies"));
var _shortenedVersion = /*#__PURE__*/ _interop_require_default(require("../shortenedVersion"));
var _constants = require("../constants");
var _content = require("../utilities/content");
var _query = require("../utilities/query");
var _validate = require("../utilities/validate");
var _propertyNames = require("../propertyNames");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
var jsonLexer = _occamgrammars.JSONLexer.fromNothing(), jsonParser = _occamgrammars.JSONParser.fromNothing();
var errorNodesQuery = (0, _query.nodesQuery)("//error"), propertyNodesQuery = (0, _query.nodeQuery)("/property/json/object/property"), documentPropertyNodesQuery = (0, _query.nodesQuery)("/document/json/object/property"), propertyNameTerminalNodeQuery = (0, _query.nodeQuery)("/property/@string-literal!"), stringPropertyValueTerminalNodeQuery = (0, _query.nodeQuery)("/property/json/@string-literal!");
function isMetaJSONFileValid(metaJSONFile) {
    var metaJSONFileValid = false;
    var documentNode = documentNodeFromMetaJSONFile(metaJSONFile);
    if (documentNode !== null) {
        var errorNodes = errorNodesQuery(documentNode), errorNodesLength = errorNodes.length;
        if (errorNodesLength === 0) {
            var version = versionFromDocumentNode(documentNode), repository = repositoryFromDocumentNode(documentNode), dependencies = dependenciesFromDocumentNode(documentNode);
            metaJSONFileValid = version !== null && repository !== null && dependencies !== null;
        }
    }
    return metaJSONFileValid;
}
function updateMetaJSONFileVersion(metaJSONFile, version) {
    var documentNode = documentNodeFromMetaJSONFile(metaJSONFile), repository = repositoryFromDocumentNode(documentNode);
    var dependencies = dependenciesFromDocumentNode(documentNode);
    var string = version.toString(), dependenciesJSON = dependencies.toJSON();
    version = string; ///
    dependencies = dependenciesJSON; ///
    var metaJSON = {
        version: version,
        repository: repository,
        dependencies: dependencies
    }, metaJSONString = JSON.stringify(metaJSON, null, _constants.DOUBLE_SPACE), metaJSONFileContent = metaJSONString; ///
    metaJSONFile.setContent(metaJSONFileContent);
}
function documentNodeFromMetaJSONFile(metaJSONFile) {
    var documentNode = null;
    if (metaJSONFile !== null) {
        var content = metaJSONFile.getContent(), tokens = jsonLexer.tokenise(content), node = jsonParser.parse(tokens);
        documentNode = node; ///
    }
    return documentNode;
}
function versionFromDocumentNode(documentNode) {
    var version = null;
    var documentPropertyNodes = documentPropertyNodesFromDocumentNode(documentNode);
    documentPropertyNodes.some(function(documentPropertyNode) {
        var propertyNode = documentPropertyNode, propertyName = propertyNameFromPropertyNode(propertyNode);
        if (propertyName === _propertyNames.VERSION_PROPERTY_NAME) {
            var stringPropertyValue = stringPropertyValueFromPropertyNode(propertyNode), string = stringPropertyValue, stringVersionString = (0, _validate.isStringVersionString)(string);
            if (stringVersionString) {
                version = _version.default.fromString(string);
            }
            return true;
        }
    });
    return version;
}
function repositoryFromDocumentNode(documentNode) {
    var repository = null;
    var documentPropertyNodes = documentPropertyNodesFromDocumentNode(documentNode);
    documentPropertyNodes.some(function(documentPropertyNode) {
        var propertyNode = documentPropertyNode, propertyName = propertyNameFromPropertyNode(propertyNode);
        if (propertyName === _propertyNames.REPOSITORY_PROPERTY_NAME) {
            var stringPropertyValue = stringPropertyValueFromPropertyNode(propertyNode);
            repository = stringPropertyValue; ///
            return true;
        }
    });
    return repository;
}
function dependenciesFromDocumentNode(documentNode) {
    var dependencies = null;
    var dependenciesPropertyNode = dependenciesPropertyNodeFromDocumentNode(documentNode);
    if (dependenciesPropertyNode !== null) {
        dependencies = _dependencies.default.fromNothing();
        var propertyNode = dependenciesPropertyNode, propertyNodes = propertyNodesQuery(propertyNode);
        propertyNodes.reduce(function(propertyNode) {
            var stringPropertyValue = stringPropertyValueFromPropertyNode(propertyNode), string = stringPropertyValue, stringShortenedVersionString = (0, _validate.isStringShortenedVersionString)(string);
            if (stringShortenedVersionString) {
                var propertyName = propertyNameFromPropertyNode(propertyNode), name = propertyName, shortenedVersion = _shortenedVersion.default.fromString(string), dependency = _dependency.default.fromNameAndShortenedVersion(name, shortenedVersion);
                dependencies.addDependency(dependency);
            }
        });
    }
    return dependencies;
}
function dependencyNamesFromDocumentNode(documentNode) {
    var dependencyNames = null;
    var dependenciesPropertyNode = dependenciesPropertyNodeFromDocumentNode(documentNode);
    if (dependenciesPropertyNode !== null) {
        dependencyNames = [];
        var propertyNode = dependenciesPropertyNode, propertyNodes = propertyNodesQuery(propertyNode);
        propertyNodes.reduce(function(propertyNode) {
            var stringPropertyValue = stringPropertyValueFromPropertyNode(propertyNode), string = stringPropertyValue, stringShortenedVersionString = (0, _validate.isStringShortenedVersionString)(string);
            if (stringShortenedVersionString) {
                var propertyName = propertyNameFromPropertyNode(propertyNode), dependencyName = propertyName; ///
                dependencyNames.addDependency(dependencyName);
            }
        });
    }
    return dependencyNames;
}
var _default = {
    isMetaJSONFileValid: isMetaJSONFileValid,
    updateMetaJSONFileVersion: updateMetaJSONFileVersion,
    documentNodeFromMetaJSONFile: documentNodeFromMetaJSONFile,
    versionFromDocumentNode: versionFromDocumentNode,
    repositoryFromDocumentNode: repositoryFromDocumentNode,
    dependenciesFromDocumentNode: dependenciesFromDocumentNode,
    dependencyNamesFromDocumentNode: dependencyNamesFromDocumentNode
};
function propertyNameFromPropertyNode(propertyNode) {
    var propertyNameTerminalNode = propertyNameTerminalNodeQuery(propertyNode), propertyNameTerminalNodeContent = propertyNameTerminalNode.getContent(), propertyName = (0, _content.trimDoubleQuotes)(propertyNameTerminalNodeContent); ///
    return propertyName;
}
function stringPropertyValueFromPropertyNode(propertyNode) {
    var propertyValueTerminalNode = stringPropertyValueTerminalNodeQuery(propertyNode), propertyValueTerminalNodeContent = propertyValueTerminalNode.getContent(), stringPropertyValue = (0, _content.trimDoubleQuotes)(propertyValueTerminalNodeContent); ///
    return stringPropertyValue;
}
function documentPropertyNodesFromDocumentNode(documentNode) {
    var documentPropertyNodes = documentPropertyNodesQuery(documentNode);
    return documentPropertyNodes;
}
function dependenciesPropertyNodeFromDocumentNode(documentNode) {
    var dependenciesPropertyNode = null;
    var documentPropertyNodes = documentPropertyNodesFromDocumentNode(documentNode);
    documentPropertyNodes.some(function(documentPropertyNode) {
        var propertyNode = documentPropertyNode, propertyName = propertyNameFromPropertyNode(propertyNode);
        if (propertyName === _propertyNames.DEPENDENCIES_PROPERTY_NAME) {
            dependenciesPropertyNode = propertyNode; ///
            return true;
        }
    });
    return dependenciesPropertyNode;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvbWV0YUpTT04uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IEpTT05MZXhlciwgSlNPTlBhcnNlciB9IGZyb20gXCJvY2NhbS1ncmFtbWFyc1wiO1xuXG5pbXBvcnQgVmVyc2lvbiBmcm9tIFwiLi4vdmVyc2lvblwiO1xuaW1wb3J0IERlcGVuZGVuY3kgZnJvbSBcIi4uL2RlcGVuZGVuY3lcIjtcbmltcG9ydCBEZXBlbmRlbmNpZXMgZnJvbSBcIi4uL2RlcGVuZGVuY2llc1wiO1xuaW1wb3J0IFNob3J0ZW5lZFZlcnNpb24gZnJvbSBcIi4uL3Nob3J0ZW5lZFZlcnNpb25cIjtcblxuaW1wb3J0IHsgRE9VQkxFX1NQQUNFIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgdHJpbURvdWJsZVF1b3RlcyB9IGZyb20gXCIuLi91dGlsaXRpZXMvY29udGVudFwiO1xuaW1wb3J0IHsgbm9kZVF1ZXJ5LCBub2Rlc1F1ZXJ5IH0gZnJvbSBcIi4uL3V0aWxpdGllcy9xdWVyeVwiO1xuaW1wb3J0IHsgaXNTdHJpbmdWZXJzaW9uU3RyaW5nLCBpc1N0cmluZ1Nob3J0ZW5lZFZlcnNpb25TdHJpbmcgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3ZhbGlkYXRlXCI7XG5pbXBvcnQgeyBWRVJTSU9OX1BST1BFUlRZX05BTUUsIFJFUE9TSVRPUllfUFJPUEVSVFlfTkFNRSwgREVQRU5ERU5DSUVTX1BST1BFUlRZX05BTUUgfSBmcm9tIFwiLi4vcHJvcGVydHlOYW1lc1wiO1xuXG5jb25zdCBqc29uTGV4ZXIgPSBKU09OTGV4ZXIuZnJvbU5vdGhpbmcoKSxcbiAgICAgIGpzb25QYXJzZXIgPSBKU09OUGFyc2VyLmZyb21Ob3RoaW5nKCk7XG5cbmNvbnN0IGVycm9yTm9kZXNRdWVyeSA9IG5vZGVzUXVlcnkoXCIvL2Vycm9yXCIpLFxuICAgICAgcHJvcGVydHlOb2Rlc1F1ZXJ5ID0gbm9kZVF1ZXJ5KFwiL3Byb3BlcnR5L2pzb24vb2JqZWN0L3Byb3BlcnR5XCIpLFxuICAgICAgZG9jdW1lbnRQcm9wZXJ0eU5vZGVzUXVlcnkgPSBub2Rlc1F1ZXJ5KFwiL2RvY3VtZW50L2pzb24vb2JqZWN0L3Byb3BlcnR5XCIpLFxuICAgICAgcHJvcGVydHlOYW1lVGVybWluYWxOb2RlUXVlcnkgPSBub2RlUXVlcnkoXCIvcHJvcGVydHkvQHN0cmluZy1saXRlcmFsIVwiKSxcbiAgICAgIHN0cmluZ1Byb3BlcnR5VmFsdWVUZXJtaW5hbE5vZGVRdWVyeSA9IG5vZGVRdWVyeShcIi9wcm9wZXJ0eS9qc29uL0BzdHJpbmctbGl0ZXJhbCFcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01ldGFKU09ORmlsZVZhbGlkKG1ldGFKU09ORmlsZSkge1xuICBsZXQgbWV0YUpTT05GaWxlVmFsaWQgPSBmYWxzZTtcblxuICBjb25zdCBkb2N1bWVudE5vZGUgPSBkb2N1bWVudE5vZGVGcm9tTWV0YUpTT05GaWxlKG1ldGFKU09ORmlsZSk7XG5cbiAgaWYgKGRvY3VtZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgIGNvbnN0IGVycm9yTm9kZXMgPSBlcnJvck5vZGVzUXVlcnkoZG9jdW1lbnROb2RlKSxcbiAgICAgICAgICBlcnJvck5vZGVzTGVuZ3RoID0gZXJyb3JOb2Rlcy5sZW5ndGg7XG5cbiAgICBpZiAoZXJyb3JOb2Rlc0xlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgdmVyc2lvbiA9IHZlcnNpb25Gcm9tRG9jdW1lbnROb2RlKGRvY3VtZW50Tm9kZSksXG4gICAgICAgICAgICByZXBvc2l0b3J5ID0gcmVwb3NpdG9yeUZyb21Eb2N1bWVudE5vZGUoZG9jdW1lbnROb2RlKSxcbiAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llc0Zyb21Eb2N1bWVudE5vZGUoZG9jdW1lbnROb2RlKTtcblxuICAgICAgbWV0YUpTT05GaWxlVmFsaWQgPSAoKHZlcnNpb24gIT09IG51bGwpICYmIChyZXBvc2l0b3J5ICE9PSBudWxsKSAmJiAoZGVwZW5kZW5jaWVzICE9PSBudWxsKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1ldGFKU09ORmlsZVZhbGlkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTWV0YUpTT05GaWxlVmVyc2lvbihtZXRhSlNPTkZpbGUsIHZlcnNpb24pIHtcbiAgY29uc3QgZG9jdW1lbnROb2RlID0gZG9jdW1lbnROb2RlRnJvbU1ldGFKU09ORmlsZShtZXRhSlNPTkZpbGUpLFxuICAgICAgICByZXBvc2l0b3J5ID0gcmVwb3NpdG9yeUZyb21Eb2N1bWVudE5vZGUoZG9jdW1lbnROb2RlKTtcblxuICBsZXQgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzRnJvbURvY3VtZW50Tm9kZShkb2N1bWVudE5vZGUpO1xuXG4gIGNvbnN0IHN0cmluZyA9IHZlcnNpb24udG9TdHJpbmcoKSxcbiAgICAgICAgZGVwZW5kZW5jaWVzSlNPTiA9IGRlcGVuZGVuY2llcy50b0pTT04oKTtcblxuICB2ZXJzaW9uID0gc3RyaW5nOyAgLy8vXG5cbiAgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzSlNPTjsgIC8vL1xuXG4gIGNvbnN0IG1ldGFKU09OID0ge1xuICAgICAgICAgIHZlcnNpb24sXG4gICAgICAgICAgcmVwb3NpdG9yeSxcbiAgICAgICAgICBkZXBlbmRlbmNpZXNcbiAgICAgICAgfSxcbiAgICAgICAgbWV0YUpTT05TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShtZXRhSlNPTiwgbnVsbCwgRE9VQkxFX1NQQUNFKSxcbiAgICAgICAgbWV0YUpTT05GaWxlQ29udGVudCA9IG1ldGFKU09OU3RyaW5nOyAvLy9cblxuICBtZXRhSlNPTkZpbGUuc2V0Q29udGVudChtZXRhSlNPTkZpbGVDb250ZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvY3VtZW50Tm9kZUZyb21NZXRhSlNPTkZpbGUobWV0YUpTT05GaWxlKSB7XG4gIGxldCBkb2N1bWVudE5vZGUgPSBudWxsO1xuXG4gIGlmIChtZXRhSlNPTkZpbGUgIT09IG51bGwpIHtcbiAgICBjb25zdCBjb250ZW50ID0gbWV0YUpTT05GaWxlLmdldENvbnRlbnQoKSxcbiAgICAgICAgICB0b2tlbnMgPSBqc29uTGV4ZXIudG9rZW5pc2UoY29udGVudCksXG4gICAgICAgICAgbm9kZSA9IGpzb25QYXJzZXIucGFyc2UodG9rZW5zKTtcblxuICAgIGRvY3VtZW50Tm9kZSA9IG5vZGU7ICAvLy9cbiAgfVxuXG4gIHJldHVybiBkb2N1bWVudE5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZXJzaW9uRnJvbURvY3VtZW50Tm9kZShkb2N1bWVudE5vZGUpIHtcbiAgbGV0IHZlcnNpb24gPSBudWxsO1xuXG4gIGNvbnN0IGRvY3VtZW50UHJvcGVydHlOb2RlcyA9IGRvY3VtZW50UHJvcGVydHlOb2Rlc0Zyb21Eb2N1bWVudE5vZGUoZG9jdW1lbnROb2RlKTtcblxuICBkb2N1bWVudFByb3BlcnR5Tm9kZXMuc29tZSgoZG9jdW1lbnRQcm9wZXJ0eU5vZGUpID0+IHtcbiAgICBjb25zdCBwcm9wZXJ0eU5vZGUgPSBkb2N1bWVudFByb3BlcnR5Tm9kZSwgIC8vL1xuICAgICAgICAgIHByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZUZyb21Qcm9wZXJ0eU5vZGUocHJvcGVydHlOb2RlKTtcblxuICAgIGlmIChwcm9wZXJ0eU5hbWUgPT09IFZFUlNJT05fUFJPUEVSVFlfTkFNRSkge1xuICAgICAgY29uc3Qgc3RyaW5nUHJvcGVydHlWYWx1ZSA9IHN0cmluZ1Byb3BlcnR5VmFsdWVGcm9tUHJvcGVydHlOb2RlKHByb3BlcnR5Tm9kZSksXG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmdQcm9wZXJ0eVZhbHVlLCAvLy9cbiAgICAgICAgICAgIHN0cmluZ1ZlcnNpb25TdHJpbmcgPSBpc1N0cmluZ1ZlcnNpb25TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgaWYgKHN0cmluZ1ZlcnNpb25TdHJpbmcpIHtcbiAgICAgICAgdmVyc2lvbiA9IFZlcnNpb24uZnJvbVN0cmluZyhzdHJpbmcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB2ZXJzaW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwb3NpdG9yeUZyb21Eb2N1bWVudE5vZGUoZG9jdW1lbnROb2RlKSB7XG4gIGxldCByZXBvc2l0b3J5ID0gbnVsbDtcblxuICBjb25zdCBkb2N1bWVudFByb3BlcnR5Tm9kZXMgPSBkb2N1bWVudFByb3BlcnR5Tm9kZXNGcm9tRG9jdW1lbnROb2RlKGRvY3VtZW50Tm9kZSk7XG5cbiAgZG9jdW1lbnRQcm9wZXJ0eU5vZGVzLnNvbWUoKGRvY3VtZW50UHJvcGVydHlOb2RlKSA9PiB7XG4gICAgY29uc3QgcHJvcGVydHlOb2RlID0gZG9jdW1lbnRQcm9wZXJ0eU5vZGUsICAvLy9cbiAgICAgICAgICBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWVGcm9tUHJvcGVydHlOb2RlKHByb3BlcnR5Tm9kZSk7XG5cbiAgICBpZiAocHJvcGVydHlOYW1lID09PSBSRVBPU0lUT1JZX1BST1BFUlRZX05BTUUpIHtcbiAgICAgIGNvbnN0IHN0cmluZ1Byb3BlcnR5VmFsdWUgPSBzdHJpbmdQcm9wZXJ0eVZhbHVlRnJvbVByb3BlcnR5Tm9kZShwcm9wZXJ0eU5vZGUpO1xuXG4gICAgICByZXBvc2l0b3J5ID0gc3RyaW5nUHJvcGVydHlWYWx1ZTsgIC8vL1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXBvc2l0b3J5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVwZW5kZW5jaWVzRnJvbURvY3VtZW50Tm9kZShkb2N1bWVudE5vZGUpIHtcbiAgbGV0IGRlcGVuZGVuY2llcyA9IG51bGw7XG5cbiAgY29uc3QgZGVwZW5kZW5jaWVzUHJvcGVydHlOb2RlID0gZGVwZW5kZW5jaWVzUHJvcGVydHlOb2RlRnJvbURvY3VtZW50Tm9kZShkb2N1bWVudE5vZGUpO1xuXG4gIGlmIChkZXBlbmRlbmNpZXNQcm9wZXJ0eU5vZGUgIT09IG51bGwpIHtcbiAgICBkZXBlbmRlbmNpZXMgPSBEZXBlbmRlbmNpZXMuZnJvbU5vdGhpbmcoKTtcblxuICAgIGNvbnN0IHByb3BlcnR5Tm9kZSA9IGRlcGVuZGVuY2llc1Byb3BlcnR5Tm9kZSwgIC8vL1xuICAgICAgICAgIHByb3BlcnR5Tm9kZXMgPSBwcm9wZXJ0eU5vZGVzUXVlcnkocHJvcGVydHlOb2RlKTtcblxuICAgIHByb3BlcnR5Tm9kZXMucmVkdWNlKChwcm9wZXJ0eU5vZGUpID0+IHtcbiAgICAgIGNvbnN0IHN0cmluZ1Byb3BlcnR5VmFsdWUgPSBzdHJpbmdQcm9wZXJ0eVZhbHVlRnJvbVByb3BlcnR5Tm9kZShwcm9wZXJ0eU5vZGUpLFxuICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nUHJvcGVydHlWYWx1ZSwgLy8vXG4gICAgICAgICAgICBzdHJpbmdTaG9ydGVuZWRWZXJzaW9uU3RyaW5nID0gaXNTdHJpbmdTaG9ydGVuZWRWZXJzaW9uU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIGlmIChzdHJpbmdTaG9ydGVuZWRWZXJzaW9uU3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZUZyb21Qcm9wZXJ0eU5vZGUocHJvcGVydHlOb2RlKSxcbiAgICAgICAgICAgICAgbmFtZSA9IHByb3BlcnR5TmFtZSwgIC8vL1xuICAgICAgICAgICAgICBzaG9ydGVuZWRWZXJzaW9uID0gU2hvcnRlbmVkVmVyc2lvbi5mcm9tU3RyaW5nKHN0cmluZyksXG4gICAgICAgICAgICAgIGRlcGVuZGVuY3kgPSBEZXBlbmRlbmN5LmZyb21OYW1lQW5kU2hvcnRlbmVkVmVyc2lvbihuYW1lLCBzaG9ydGVuZWRWZXJzaW9uKTtcblxuICAgICAgICBkZXBlbmRlbmNpZXMuYWRkRGVwZW5kZW5jeShkZXBlbmRlbmN5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBkZXBlbmRlbmNpZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXBlbmRlbmN5TmFtZXNGcm9tRG9jdW1lbnROb2RlKGRvY3VtZW50Tm9kZSkge1xuICBsZXQgZGVwZW5kZW5jeU5hbWVzID0gbnVsbDtcblxuICBjb25zdCBkZXBlbmRlbmNpZXNQcm9wZXJ0eU5vZGUgPSBkZXBlbmRlbmNpZXNQcm9wZXJ0eU5vZGVGcm9tRG9jdW1lbnROb2RlKGRvY3VtZW50Tm9kZSk7XG5cbiAgaWYgKGRlcGVuZGVuY2llc1Byb3BlcnR5Tm9kZSAhPT0gbnVsbCkge1xuICAgIGRlcGVuZGVuY3lOYW1lcyA9IFtdO1xuXG4gICAgY29uc3QgcHJvcGVydHlOb2RlID0gZGVwZW5kZW5jaWVzUHJvcGVydHlOb2RlLCAgLy8vXG4gICAgICAgICAgcHJvcGVydHlOb2RlcyA9IHByb3BlcnR5Tm9kZXNRdWVyeShwcm9wZXJ0eU5vZGUpO1xuXG4gICAgcHJvcGVydHlOb2Rlcy5yZWR1Y2UoKHByb3BlcnR5Tm9kZSkgPT4ge1xuICAgICAgY29uc3Qgc3RyaW5nUHJvcGVydHlWYWx1ZSA9IHN0cmluZ1Byb3BlcnR5VmFsdWVGcm9tUHJvcGVydHlOb2RlKHByb3BlcnR5Tm9kZSksXG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmdQcm9wZXJ0eVZhbHVlLCAvLy9cbiAgICAgICAgICAgIHN0cmluZ1Nob3J0ZW5lZFZlcnNpb25TdHJpbmcgPSBpc1N0cmluZ1Nob3J0ZW5lZFZlcnNpb25TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgaWYgKHN0cmluZ1Nob3J0ZW5lZFZlcnNpb25TdHJpbmcpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gcHJvcGVydHlOYW1lRnJvbVByb3BlcnR5Tm9kZShwcm9wZXJ0eU5vZGUpLFxuICAgICAgICAgICAgICBkZXBlbmRlbmN5TmFtZSA9IHByb3BlcnR5TmFtZTsgIC8vL1xuXG4gICAgICAgIGRlcGVuZGVuY3lOYW1lcy5hZGREZXBlbmRlbmN5KGRlcGVuZGVuY3lOYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBkZXBlbmRlbmN5TmFtZXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNNZXRhSlNPTkZpbGVWYWxpZCxcbiAgdXBkYXRlTWV0YUpTT05GaWxlVmVyc2lvbixcbiAgZG9jdW1lbnROb2RlRnJvbU1ldGFKU09ORmlsZSxcbiAgdmVyc2lvbkZyb21Eb2N1bWVudE5vZGUsXG4gIHJlcG9zaXRvcnlGcm9tRG9jdW1lbnROb2RlLFxuICBkZXBlbmRlbmNpZXNGcm9tRG9jdW1lbnROb2RlLFxuICBkZXBlbmRlbmN5TmFtZXNGcm9tRG9jdW1lbnROb2RlXG59O1xuXG5mdW5jdGlvbiBwcm9wZXJ0eU5hbWVGcm9tUHJvcGVydHlOb2RlKHByb3BlcnR5Tm9kZSkge1xuICBjb25zdCBwcm9wZXJ0eU5hbWVUZXJtaW5hbE5vZGUgPSBwcm9wZXJ0eU5hbWVUZXJtaW5hbE5vZGVRdWVyeShwcm9wZXJ0eU5vZGUpLFxuICAgICAgICBwcm9wZXJ0eU5hbWVUZXJtaW5hbE5vZGVDb250ZW50ID0gcHJvcGVydHlOYW1lVGVybWluYWxOb2RlLmdldENvbnRlbnQoKSxcbiAgICAgICAgcHJvcGVydHlOYW1lID0gdHJpbURvdWJsZVF1b3Rlcyhwcm9wZXJ0eU5hbWVUZXJtaW5hbE5vZGVDb250ZW50KTsgLy8vXG5cbiAgcmV0dXJuIHByb3BlcnR5TmFtZTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nUHJvcGVydHlWYWx1ZUZyb21Qcm9wZXJ0eU5vZGUocHJvcGVydHlOb2RlKSB7XG4gIGNvbnN0IHByb3BlcnR5VmFsdWVUZXJtaW5hbE5vZGUgPSBzdHJpbmdQcm9wZXJ0eVZhbHVlVGVybWluYWxOb2RlUXVlcnkocHJvcGVydHlOb2RlKSxcbiAgICAgICAgcHJvcGVydHlWYWx1ZVRlcm1pbmFsTm9kZUNvbnRlbnQgPSBwcm9wZXJ0eVZhbHVlVGVybWluYWxOb2RlLmdldENvbnRlbnQoKSxcbiAgICAgICAgc3RyaW5nUHJvcGVydHlWYWx1ZSA9IHRyaW1Eb3VibGVRdW90ZXMocHJvcGVydHlWYWx1ZVRlcm1pbmFsTm9kZUNvbnRlbnQpOyAvLy9cblxuICByZXR1cm4gc3RyaW5nUHJvcGVydHlWYWx1ZTtcbn1cblxuZnVuY3Rpb24gZG9jdW1lbnRQcm9wZXJ0eU5vZGVzRnJvbURvY3VtZW50Tm9kZShkb2N1bWVudE5vZGUpIHtcbiAgY29uc3QgZG9jdW1lbnRQcm9wZXJ0eU5vZGVzID0gZG9jdW1lbnRQcm9wZXJ0eU5vZGVzUXVlcnkoZG9jdW1lbnROb2RlKTtcblxuICByZXR1cm4gZG9jdW1lbnRQcm9wZXJ0eU5vZGVzO1xufVxuXG5mdW5jdGlvbiBkZXBlbmRlbmNpZXNQcm9wZXJ0eU5vZGVGcm9tRG9jdW1lbnROb2RlKGRvY3VtZW50Tm9kZSkge1xuICBsZXQgZGVwZW5kZW5jaWVzUHJvcGVydHlOb2RlID0gbnVsbDtcblxuICBjb25zdCBkb2N1bWVudFByb3BlcnR5Tm9kZXMgPSBkb2N1bWVudFByb3BlcnR5Tm9kZXNGcm9tRG9jdW1lbnROb2RlKGRvY3VtZW50Tm9kZSk7XG5cbiAgZG9jdW1lbnRQcm9wZXJ0eU5vZGVzLnNvbWUoKGRvY3VtZW50UHJvcGVydHlOb2RlKSA9PiB7XG4gICAgY29uc3QgcHJvcGVydHlOb2RlID0gZG9jdW1lbnRQcm9wZXJ0eU5vZGUsICAvLy9cbiAgICAgICAgICBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWVGcm9tUHJvcGVydHlOb2RlKHByb3BlcnR5Tm9kZSk7XG5cbiAgICBpZiAocHJvcGVydHlOYW1lID09PSBERVBFTkRFTkNJRVNfUFJPUEVSVFlfTkFNRSkge1xuICAgICAgZGVwZW5kZW5jaWVzUHJvcGVydHlOb2RlID0gcHJvcGVydHlOb2RlOyAgLy8vXG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRlcGVuZGVuY2llc1Byb3BlcnR5Tm9kZTtcbn1cbiJdLCJuYW1lcyI6WyJkZXBlbmRlbmNpZXNGcm9tRG9jdW1lbnROb2RlIiwiZGVwZW5kZW5jeU5hbWVzRnJvbURvY3VtZW50Tm9kZSIsImRvY3VtZW50Tm9kZUZyb21NZXRhSlNPTkZpbGUiLCJpc01ldGFKU09ORmlsZVZhbGlkIiwicmVwb3NpdG9yeUZyb21Eb2N1bWVudE5vZGUiLCJ1cGRhdGVNZXRhSlNPTkZpbGVWZXJzaW9uIiwidmVyc2lvbkZyb21Eb2N1bWVudE5vZGUiLCJqc29uTGV4ZXIiLCJKU09OTGV4ZXIiLCJmcm9tTm90aGluZyIsImpzb25QYXJzZXIiLCJKU09OUGFyc2VyIiwiZXJyb3JOb2Rlc1F1ZXJ5Iiwibm9kZXNRdWVyeSIsInByb3BlcnR5Tm9kZXNRdWVyeSIsIm5vZGVRdWVyeSIsImRvY3VtZW50UHJvcGVydHlOb2Rlc1F1ZXJ5IiwicHJvcGVydHlOYW1lVGVybWluYWxOb2RlUXVlcnkiLCJzdHJpbmdQcm9wZXJ0eVZhbHVlVGVybWluYWxOb2RlUXVlcnkiLCJtZXRhSlNPTkZpbGUiLCJtZXRhSlNPTkZpbGVWYWxpZCIsImRvY3VtZW50Tm9kZSIsImVycm9yTm9kZXMiLCJlcnJvck5vZGVzTGVuZ3RoIiwibGVuZ3RoIiwidmVyc2lvbiIsInJlcG9zaXRvcnkiLCJkZXBlbmRlbmNpZXMiLCJzdHJpbmciLCJ0b1N0cmluZyIsImRlcGVuZGVuY2llc0pTT04iLCJ0b0pTT04iLCJtZXRhSlNPTiIsIm1ldGFKU09OU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsIkRPVUJMRV9TUEFDRSIsIm1ldGFKU09ORmlsZUNvbnRlbnQiLCJzZXRDb250ZW50IiwiY29udGVudCIsImdldENvbnRlbnQiLCJ0b2tlbnMiLCJ0b2tlbmlzZSIsIm5vZGUiLCJwYXJzZSIsImRvY3VtZW50UHJvcGVydHlOb2RlcyIsImRvY3VtZW50UHJvcGVydHlOb2Rlc0Zyb21Eb2N1bWVudE5vZGUiLCJzb21lIiwiZG9jdW1lbnRQcm9wZXJ0eU5vZGUiLCJwcm9wZXJ0eU5vZGUiLCJwcm9wZXJ0eU5hbWUiLCJwcm9wZXJ0eU5hbWVGcm9tUHJvcGVydHlOb2RlIiwiVkVSU0lPTl9QUk9QRVJUWV9OQU1FIiwic3RyaW5nUHJvcGVydHlWYWx1ZSIsInN0cmluZ1Byb3BlcnR5VmFsdWVGcm9tUHJvcGVydHlOb2RlIiwic3RyaW5nVmVyc2lvblN0cmluZyIsImlzU3RyaW5nVmVyc2lvblN0cmluZyIsIlZlcnNpb24iLCJmcm9tU3RyaW5nIiwiUkVQT1NJVE9SWV9QUk9QRVJUWV9OQU1FIiwiZGVwZW5kZW5jaWVzUHJvcGVydHlOb2RlIiwiZGVwZW5kZW5jaWVzUHJvcGVydHlOb2RlRnJvbURvY3VtZW50Tm9kZSIsIkRlcGVuZGVuY2llcyIsInByb3BlcnR5Tm9kZXMiLCJyZWR1Y2UiLCJzdHJpbmdTaG9ydGVuZWRWZXJzaW9uU3RyaW5nIiwiaXNTdHJpbmdTaG9ydGVuZWRWZXJzaW9uU3RyaW5nIiwibmFtZSIsInNob3J0ZW5lZFZlcnNpb24iLCJTaG9ydGVuZWRWZXJzaW9uIiwiZGVwZW5kZW5jeSIsIkRlcGVuZGVuY3kiLCJmcm9tTmFtZUFuZFNob3J0ZW5lZFZlcnNpb24iLCJhZGREZXBlbmRlbmN5IiwiZGVwZW5kZW5jeU5hbWVzIiwiZGVwZW5kZW5jeU5hbWUiLCJwcm9wZXJ0eU5hbWVUZXJtaW5hbE5vZGUiLCJwcm9wZXJ0eU5hbWVUZXJtaW5hbE5vZGVDb250ZW50IiwidHJpbURvdWJsZVF1b3RlcyIsInByb3BlcnR5VmFsdWVUZXJtaW5hbE5vZGUiLCJwcm9wZXJ0eVZhbHVlVGVybWluYWxOb2RlQ29udGVudCIsIkRFUEVOREVOQ0lFU19QUk9QRVJUWV9OQU1FIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7SUEyTEEsT0FRRTtlQVJGOztJQTFEZ0JBLDRCQUE0QjtlQUE1QkE7O0lBOEJBQywrQkFBK0I7ZUFBL0JBOztJQTFGQUMsNEJBQTRCO2VBQTVCQTs7SUE3Q0FDLG1CQUFtQjtlQUFuQkE7O0lBb0ZBQywwQkFBMEI7ZUFBMUJBOztJQS9EQUMseUJBQXlCO2VBQXpCQTs7SUFzQ0FDLHVCQUF1QjtlQUF2QkE7Ozs2QkFqRnNCOzhEQUVsQjtpRUFDRzttRUFDRTt1RUFDSTt5QkFFQTt1QkFDSTtxQkFDSzt3QkFDZ0M7NkJBQ3NCOzs7Ozs7QUFFNUYsSUFBTUMsWUFBWUMsd0JB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